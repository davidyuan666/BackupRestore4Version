{
  "version": "1.0",
  "description": "Initial medical database schema",
  "tables": {
    "patients": {
      "fields": {
        "patient_id": {"type": "INT", "primary_key": true, "nullable": false},
        "name": {"type": "VARCHAR(100)", "nullable": false},
        "birth_date": {"type": "DATE", "nullable": false},
        "gender": {"type": "VARCHAR(10)", "nullable": false},
        "phone": {"type": "VARCHAR(20)", "nullable": true}
      },
      "indexes": ["patient_id"]
    },
    "studies": {
      "fields": {
        "study_id": {"type": "INT", "primary_key": true, "nullable": false},
        "patient_id": {"type": "INT", "nullable": false},
        "study_date": {"type": "DATETIME", "nullable": false},
        "modality": {"type": "VARCHAR(10)", "nullable": false},
        "description": {"type": "TEXT", "nullable": true}
      },
      "foreign_keys": {
        "patient_id": {"references": "patients.patient_id", "on_delete": "CASCADE"}
      },
      "indexes": ["study_id", "patient_id"]
    },
    "images": {
      "fields": {
        "image_id": {"type": "INT", "primary_key": true, "nullable": false},
        "study_id": {"type": "INT", "nullable": false},
        "image_path": {"type": "VARCHAR(255)", "nullable": false},
        "image_size": {"type": "INT", "nullable": false}
      },
      "foreign_keys": {
        "study_id": {"references": "studies.study_id", "on_delete": "CASCADE"}
      },
      "indexes": ["image_id", "study_id"]
    }
  }
}
